<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<script src="https://unpkg.com/puppeteer@10.0.0"></script>
<script>
export default async ({ page }) => {

// Full puppeteer API is available
await page.goto('https://google.com/');
await page.type('input[type="text"]', 'github.io');
await Promise.all([
  page.click('input[type="submit"]'),
  page.waitForNavigation(),
]);

// Logs show up in the browser's devtools
console.log(`I show up in the page's console!`);

const topLinks = await page.evaluate(() => {
  const results = document.querySelectorAll('a');
  return [...results].map(el => [el.innerText, el.getAttribute('href')]);
});

// Can pause by injecting a "debugger;" statement
await page.evaluate(() => { debugger; });

console.table(topLinks);
};
</script>
</head>
</html>
